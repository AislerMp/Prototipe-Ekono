<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesi√≥n - Ekono</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #001541;
            --primary-light: #1e3a8a;
            --primary-gradient: linear-gradient(135deg, #001541, #1e40af, #3b82f6);
            --secondary-color: #0ea5e9;
            --accent-color: #06b6d4;
            --text-dark: #1f2937;
            --text-light: #6b7280;
        }
        
        .font-heading {
            font-family: 'Poppins', sans-serif;
        }
        
        .font-body {
            font-family: 'Open Sans', sans-serif;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
        }
        
        .auth-container {
            background: white;
            border-radius: 2rem;
            box-shadow: 0 25px 50px rgba(0, 21, 65, 0.15);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .auth-header {
            background: var(--primary-gradient);
            padding: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .auth-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%"><stop offset="0%" stop-color="%23ffffff" stop-opacity="0.1"/><stop offset="100%" stop-color="%23ffffff" stop-opacity="0"/></radialGradient></defs><circle cx="200" cy="200" r="100" fill="url(%23a)"/><circle cx="800" cy="300" r="150" fill="url(%23a)"/></svg>');
            opacity: 0.3;
        }
        
        .tab-button {
            padding: 1rem 2rem;
            border-radius: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            background: transparent;
            color: #6b7280;
            cursor: pointer;
        }
        
        .tab-button.active {
            background: var(--primary-gradient);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 21, 65, 0.3);
        }
        
        .tab-button:not(.active):hover {
            color: var(--primary-color);
            border-color: var(--primary-color);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-input {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem;
            border: 2px solid #e2e8f0;
            border-radius: 1rem;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #f8fafc;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            background: white;
            box-shadow: 0 0 0 3px rgba(0, 21, 65, 0.1);
        }
        
        .form-input.valid {
            border-color: #10b981;
            background: #f0fdf4;
        }
        
        .form-input.invalid {
            border-color: #ef4444;
            background: #fef2f2;
        }
        
        .input-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
            font-size: 1.25rem;
        }
        
        .input-group {
            position: relative;
        }
        
        .auth-button {
            width: 100%;
            padding: 1rem;
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 1rem;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }
        
        .auth-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(0, 21, 65, 0.3);
        }
        
        .auth-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .social-button {
            width: 100%;
            padding: 0.875rem;
            border: 2px solid #e2e8f0;
            border-radius: 1rem;
            background: white;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }
        
        .social-button:hover {
            border-color: var(--primary-color);
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }
        
        .password-strength {
            height: 4px;
            background: #e2e8f0;
            border-radius: 2px;
            margin-top: 0.5rem;
            overflow: hidden;
        }
        
        .password-strength-bar {
            height: 100%;
            transition: all 0.3s ease;
            border-radius: 2px;
        }
        
        .strength-weak { background: #ef4444; width: 25%; }
        .strength-fair { background: #f59e0b; width: 50%; }
        .strength-good { background: #3b82f6; width: 75%; }
        .strength-strong { background: #10b981; width: 100%; }
        
        .checkbox-custom {
            width: 20px;
            height: 20px;
            border: 2px solid #d1d5db;
            border-radius: 4px;
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .checkbox-custom.checked {
            background: var(--primary-gradient);
            border-color: var(--primary-color);
        }
        
        .checkbox-custom.checked::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .error-message {
            color: #ef4444;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: none;
        }
        
        .success-message {
            color: #10b981;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: none;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .floating-shapes {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }
        
        .shape {
            position: absolute;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        
        .shape:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
        .shape:nth-child(2) { top: 60%; right: 10%; animation-delay: 2s; }
        .shape:nth-child(3) { bottom: 20%; left: 20%; animation-delay: 4s; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        @media (max-width: 768px) {
            .auth-container {
                margin: 1rem;
                border-radius: 1.5rem;
            }
            
            .auth-header {
                padding: 1.5rem;
            }
            
            .tab-button {
                padding: 0.75rem 1.5rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Background Shapes -->
    <div class="floating-shapes">
        <div class="shape w-32 h-32 bg-blue-500 rounded-full"></div>
        <div class="shape w-24 h-24 bg-purple-500 rounded-full"></div>
        <div class="shape w-40 h-40 bg-indigo-500 rounded-full"></div>
    </div>

    <!-- Main Container -->
    <div class="min-h-screen flex items-center justify-center p-4">
        <div class="auth-container w-full max-w-md">
            <!-- Header -->
            <div class="auth-header relative z-10">
                <div class="text-white px-6 py-3 rounded-xl font-heading font-bold text-3xl mb-4 inline-block" style="background: rgba(255, 255, 255, 0.2);">
                    EKONO
                </div>
                <h1 class="text-2xl font-heading font-bold text-white mb-2">¬°Bienvenido de vuelta!</h1>
                <p class="text-blue-100 font-body">Accede a tu cuenta o crea una nueva</p>
            </div>
            
            <!-- Tab Navigation -->
            <div class="p-6 pb-0">
                <div class="flex bg-gray-100 rounded-2xl p-1 mb-6">
                    <button class="tab-button active flex-1 font-body" onclick="switchTab('login')">
                        üîê Iniciar Sesi√≥n
                    </button>
                    <button class="tab-button flex-1 font-body" onclick="switchTab('register')">
                        üë§ Registrarse
                    </button>
                </div>
            </div>
            
            <!-- Login Form -->
            <div id="login-tab" class="tab-content active p-6 pt-0">
                <form id="loginForm" onsubmit="handleLogin(event)">
                    <!-- Email Field -->
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-icon">üìß</span>
                            <input type="email" class="form-input font-body" placeholder="Correo electr√≥nico" id="loginEmail" required oninput="validateEmail(this)">
                        </div>
                        <div class="error-message" id="loginEmailError">Por favor ingresa un email v√°lido</div>
                    </div>
                    
                    <!-- Password Field -->
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-icon">üîí</span>
                            <input type="password" class="form-input font-body" placeholder="Contrase√±a" id="loginPassword" required>
                        </div>
                        <div class="error-message" id="loginPasswordError">La contrase√±a es requerida</div>
                    </div>
                    
                    <!-- Remember Me & Forgot Password -->
                    <div class="flex items-center justify-between mb-6">
                        <label class="flex items-center cursor-pointer">
                            <div class="checkbox-custom mr-3" onclick="toggleCheckbox(this)"></div>
                            <span class="text-sm text-gray-600 font-body">Recordarme</span>
                        </label>
                        <a href="#" class="text-sm font-medium font-body" style="color: var(--primary-color);" onclick="showForgotPassword()">
                            ¬øOlvidaste tu contrase√±a?
                        </a>
                    </div>
                    
                    <!-- Login Button -->
                    <button type="submit" class="auth-button font-body">
                        üöÄ Iniciar Sesi√≥n
                    </button>
                </form>
                
                <!-- Divider -->
                <div class="relative my-6">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-4 bg-white text-gray-500 font-body">O contin√∫a con</span>
                    </div>
                </div>
                
                <!-- Social Login -->
                <button class="social-button font-body" onclick="socialLogin('google')">
                    <span style="color: #4285f4;">üîµ</span>
                    Continuar con Google
                </button>
                <button class="social-button font-body" onclick="socialLogin('facebook')">
                    <span style="color: #1877f2;">üìò</span>
                    Continuar con Facebook
                </button>
            </div>
            
            <!-- Register Form -->
            <div id="register-tab" class="tab-content p-6 pt-0">
                <form id="registerForm" onsubmit="handleRegister(event)">
                    <!-- Name Field -->
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-icon">üë§</span>
                            <input type="text" class="form-input font-body" placeholder="Nombre completo" id="registerName" required oninput="validateName(this)">
                        </div>
                        <div class="error-message" id="registerNameError">El nombre debe tener al menos 2 caracteres</div>
                    </div>
                    
                    <!-- Email Field -->
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-icon">üìß</span>
                            <input type="email" class="form-input font-body" placeholder="Correo electr√≥nico" id="registerEmail" required oninput="validateEmail(this)">
                        </div>
                        <div class="error-message" id="registerEmailError">Por favor ingresa un email v√°lido</div>
                    </div>
                    
                    <!-- Password Field -->
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-icon">üîí</span>
                            <input type="password" class="form-input font-body" placeholder="Contrase√±a" id="registerPassword" required oninput="validatePassword(this)">
                        </div>
                        <div class="password-strength">
                            <div class="password-strength-bar" id="passwordStrengthBar"></div>
                        </div>
                        <div class="error-message" id="registerPasswordError">La contrase√±a debe tener al menos 8 caracteres</div>
                        <div class="success-message" id="registerPasswordSuccess">¬°Contrase√±a segura!</div>
                    </div>
                    
                    <!-- Confirm Password Field -->
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-icon">üîê</span>
                            <input type="password" class="form-input font-body" placeholder="Confirmar contrase√±a" id="confirmPassword" required oninput="validateConfirmPassword(this)">
                        </div>
                        <div class="error-message" id="confirmPasswordError">Las contrase√±as no coinciden</div>
                    </div>
                    
                    <!-- Terms Checkbox -->
                    <div class="flex items-start mb-6">
                        <div class="checkbox-custom mr-3 mt-1" onclick="toggleCheckbox(this)" id="termsCheckbox"></div>
                        <label class="text-sm text-gray-600 font-body cursor-pointer" onclick="document.getElementById('termsCheckbox').click()">
                            Acepto los <a href="#" class="font-medium" style="color: var(--primary-color);">T√©rminos y Condiciones</a> y la <a href="#" class="font-medium" style="color: var(--primary-color);">Pol√≠tica de Privacidad</a>
                        </label>
                    </div>
                    
                    <!-- Register Button -->
                    <button type="submit" class="auth-button font-body" id="registerButton" disabled>
                        ‚ú® Crear Cuenta
                    </button>
                </form>
                
                <!-- Divider -->
                <div class="relative my-6">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-4 bg-white text-gray-500 font-body">O reg√≠strate con</span>
                    </div>
                </div>
                
                <!-- Social Register -->
                <button class="social-button font-body" onclick="socialLogin('google')">
                    <span style="color: #4285f4;">üîµ</span>
                    Registrarse con Google
                </button>
                <button class="social-button font-body" onclick="socialLogin('facebook')">
                    <span style="color: #1877f2;">üìò</span>
                    Registrarse con Facebook
                </button>
            </div>
            
            <!-- Footer -->
            <div class="p-6 pt-0 text-center">
                <p class="text-sm text-gray-500 font-body">
                    ¬øNecesitas ayuda? <a href="#" class="font-medium" style="color: var(--primary-color);" onclick="toggleChat()">Contacta soporte</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50" style="display: none;">
        <div class="bg-white rounded-2xl p-8 w-full max-w-md">
            <div class="text-center mb-6">
                <div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center text-2xl" style="background: var(--primary-gradient);">
                    üîë
                </div>
                <h2 class="text-2xl font-heading font-bold mb-2" style="color: var(--primary-color);">Recuperar Contrase√±a</h2>
                <p class="text-gray-600 font-body">Te enviaremos un enlace para restablecer tu contrase√±a</p>
            </div>
            
            <form onsubmit="handleForgotPassword(event)">
                <div class="form-group">
                    <div class="input-group">
                        <span class="input-icon">üìß</span>
                        <input type="email" class="form-input font-body" placeholder="Tu correo electr√≥nico" id="forgotEmail" required>
                    </div>
                </div>
                
                <button type="submit" class="auth-button font-body">
                    üì§ Enviar Enlace
                </button>
                
                <button type="button" class="w-full py-3 text-gray-600 font-medium font-body" onclick="closeForgotPassword()">
                    Cancelar
                </button>
            </form>
        </div>
    </div>

    <!-- Chatbot -->
    <div id="chatbot-container" class="fixed bottom-6 right-6 z-50">
        <!-- Chat Button -->
        <button id="chat-toggle" class="w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-white text-2xl transition-all duration-300 hover:scale-110" style="background: var(--primary-gradient);" onclick="toggleChat()">
            üí¨
        </button>
        
        <!-- Chat Window -->
        <div id="chat-window" class="absolute bottom-20 right-0 w-80 bg-white rounded-2xl shadow-2xl border border-gray-200 transform scale-0 origin-bottom-right transition-all duration-300" style="max-height: 500px;">
            <!-- Chat Header -->
            <div class="p-4 rounded-t-2xl text-white" style="background: var(--primary-gradient);">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                            ü§ñ
                        </div>
                        <div>
                            <h3 class="font-heading font-bold">Asistente IA</h3>
                            <p class="text-xs text-blue-100">En l√≠nea ‚Ä¢ Te ayudo con login/registro</p>
                        </div>
                    </div>
                    <button onclick="toggleChat()" class="text-white hover:text-blue-200 transition-colors">
                        ‚úï
                    </button>
                </div>
            </div>
            
            <!-- Chat Messages -->
            <div id="chat-messages" class="p-4 h-80 overflow-y-auto space-y-3">
                <div class="flex items-start space-x-2">
                    <div class="w-8 h-8 rounded-full flex items-center justify-center text-sm" style="background: var(--primary-gradient); color: white;">
                        ü§ñ
                    </div>
                    <div class="bg-gray-100 rounded-2xl rounded-tl-sm p-3 max-w-xs">
                        <p class="text-sm font-body">¬°Hola! üëã Soy tu asistente para login y registro. ¬øEn qu√© puedo ayudarte?</p>
                    </div>
                </div>
                
                <!-- AI Suggestions -->
                <div class="bg-blue-50 rounded-xl p-3 border-l-4" style="border-color: var(--primary-color);">
                    <p class="text-xs font-semibold mb-2" style="color: var(--primary-color);">üí° Preguntas frecuentes:</p>
                    <div class="space-y-2">
                        <button class="w-full text-left p-2 bg-white rounded-lg hover:bg-blue-50 transition-colors text-sm font-body" onclick="sendMessage('¬øC√≥mo recupero mi contrase√±a?')">
                            üîë "¬øC√≥mo recupero mi contrase√±a?"
                        </button>
                        <button class="w-full text-left p-2 bg-white rounded-lg hover:bg-blue-50 transition-colors text-sm font-body" onclick="sendMessage('No puedo iniciar sesi√≥n')">
                            üö´ "No puedo iniciar sesi√≥n"
                        </button>
                        <button class="w-full text-left p-2 bg-white rounded-lg hover:bg-blue-50 transition-colors text-sm font-body" onclick="sendMessage('¬øC√≥mo creo una cuenta nueva?')">
                            üë§ "¬øC√≥mo creo una cuenta nueva?"
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Chat Input -->
            <div class="p-4 border-t border-gray-200">
                <div class="flex space-x-2">
                    <input type="text" id="chat-input" placeholder="Escribe tu mensaje..." class="flex-1 border border-gray-300 rounded-full px-4 py-2 text-sm focus:outline-none focus:border-blue-500 font-body" onkeypress="handleChatKeyPress(event)">
                    <button onclick="sendChatMessage()" class="w-10 h-10 rounded-full flex items-center justify-center text-white transition-all hover:scale-105" style="background: var(--primary-gradient);">
                        ‚û§
                    </button>
                </div>
                <div class="flex space-x-2 mt-2">
                    <button class="text-xs px-3 py-1 rounded-full border transition-colors font-body" style="border-color: var(--primary-color); color: var(--primary-color);" onclick="sendMessage('Ayuda con registro')">
                        üë§ Registro
                    </button>
                    <button class="text-xs px-3 py-1 rounded-full border transition-colors font-body" style="border-color: var(--primary-color); color: var(--primary-color);" onclick="sendMessage('Problemas de login')">
                        üîê Login
                    </button>
                    <button class="text-xs px-3 py-1 rounded-full border transition-colors font-body" style="border-color: var(--primary-color); color: var(--primary-color);" onclick="sendMessage('Soporte t√©cnico')">
                        üõ†Ô∏è Soporte
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        function switchTab(tabName) {
            // Remove active class from all tabs and buttons
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to selected tab and button
            document.getElementById(tabName + '-tab').classList.add('active');
            event.target.classList.add('active');
        }
        
        // Checkbox functionality
        function toggleCheckbox(checkbox) {
            checkbox.classList.toggle('checked');
            
            // Enable/disable register button based on terms acceptance
            if (checkbox.id === 'termsCheckbox') {
                const registerButton = document.getElementById('registerButton');
                registerButton.disabled = !checkbox.classList.contains('checked');
            }
        }
        
        // Email validation
        function validateEmail(input) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            const isValid = emailRegex.test(input.value);
            
            if (input.value === '') {
                input.classList.remove('valid', 'invalid');
                hideError(input);
            } else if (isValid) {
                input.classList.add('valid');
                input.classList.remove('invalid');
                hideError(input);
            } else {
                input.classList.add('invalid');
                input.classList.remove('valid');
                showError(input);
            }
        }
        
        // Name validation
        function validateName(input) {
            const isValid = input.value.length >= 2;
            
            if (input.value === '') {
                input.classList.remove('valid', 'invalid');
                hideError(input);
            } else if (isValid) {
                input.classList.add('valid');
                input.classList.remove('invalid');
                hideError(input);
            } else {
                input.classList.add('invalid');
                input.classList.remove('valid');
                showError(input);
            }
        }
        
        // Password validation and strength
        function validatePassword(input) {
            const password = input.value;
            const strengthBar = document.getElementById('passwordStrengthBar');
            const errorMsg = document.getElementById('registerPasswordError');
            const successMsg = document.getElementById('registerPasswordSuccess');
            
            if (password === '') {
                input.classList.remove('valid', 'invalid');
                strengthBar.className = 'password-strength-bar';
                hideError(input);
                successMsg.style.display = 'none';
                return;
            }
            
            let strength = 0;
            if (password.length >= 8) strength++;
            if (/[a-z]/.test(password)) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^A-Za-z0-9]/.test(password)) strength++;
            
            // Update strength bar
            strengthBar.className = 'password-strength-bar';
            if (strength <= 2) {
                strengthBar.classList.add('strength-weak');
            } else if (strength === 3) {
                strengthBar.classList.add('strength-fair');
            } else if (strength === 4) {
                strengthBar.classList.add('strength-good');
            } else {
                strengthBar.classList.add('strength-strong');
            }
            
            if (password.length >= 8 && strength >= 3) {
                input.classList.add('valid');
                input.classList.remove('invalid');
                errorMsg.style.display = 'none';
                successMsg.style.display = 'block';
            } else {
                input.classList.add('invalid');
                input.classList.remove('valid');
                errorMsg.style.display = 'block';
                successMsg.style.display = 'none';
            }
        }
        
        // Confirm password validation
        function validateConfirmPassword(input) {
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = input.value;
            
            if (confirmPassword === '') {
                input.classList.remove('valid', 'invalid');
                hideError(input);
            } else if (password === confirmPassword) {
                input.classList.add('valid');
                input.classList.remove('invalid');
                hideError(input);
            } else {
                input.classList.add('invalid');
                input.classList.remove('valid');
                showError(input);
            }
        }
        
        // Show/hide error messages
        function showError(input) {
            const errorId = input.id + 'Error';
            const errorElement = document.getElementById(errorId);
            if (errorElement) {
                errorElement.style.display = 'block';
            }
        }
        
        function hideError(input) {
            const errorId = input.id + 'Error';
            const errorElement = document.getElementById(errorId);
            if (errorElement) {
                errorElement.style.display = 'none';
            }
        }
        
        // Form submissions
        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simulate login process
            const button = event.target.querySelector('button[type="submit"]');
            button.innerHTML = '‚è≥ Iniciando sesi√≥n...';
            button.disabled = true;
            
            setTimeout(() => {
                alert(`üéâ ¬°Bienvenido de vuelta!\n\nEmail: ${email}\n\nEsta es una demostraci√≥n del prototipo de login mejorado.`);
                button.innerHTML = 'üöÄ Iniciar Sesi√≥n';
                button.disabled = false;
            }, 2000);
        }
        
        function handleRegister(event) {
            event.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            
            // Simulate registration process
            const button = event.target.querySelector('button[type="submit"]');
            button.innerHTML = '‚è≥ Creando cuenta...';
            button.disabled = true;
            
            setTimeout(() => {
                alert(`üéâ ¬°Cuenta creada exitosamente!\n\nNombre: ${name}\nEmail: ${email}\n\n¬°Bienvenido a Ekono! Esta es una demostraci√≥n del prototipo.`);
                button.innerHTML = '‚ú® Crear Cuenta';
                button.disabled = false;
            }, 2000);
        }
        
        // Forgot password functionality
        function showForgotPassword() {
            document.getElementById('forgotPasswordModal').style.display = 'flex';
        }
        
        function closeForgotPassword() {
            document.getElementById('forgotPasswordModal').style.display = 'none';
        }
        
        function handleForgotPassword(event) {
            event.preventDefault();
            const email = document.getElementById('forgotEmail').value;
            
            const button = event.target.querySelector('button[type="submit"]');
            button.innerHTML = '‚è≥ Enviando...';
            button.disabled = true;
            
            setTimeout(() => {
                alert(`üìß Enlace de recuperaci√≥n enviado\n\nHemos enviado un enlace de recuperaci√≥n a: ${email}\n\nRevisa tu bandeja de entrada y spam.`);
                closeForgotPassword();
                button.innerHTML = 'üì§ Enviar Enlace';
                button.disabled = false;
            }, 2000);
        }
        
        // Social login
        function socialLogin(provider) {
            const providerNames = {
                'google': 'Google',
                'facebook': 'Facebook'
            };
            
            alert(`üîó Conectando con ${providerNames[provider]}\n\nEsta funcionalidad se integrar√≠a con la API de ${providerNames[provider]} en la versi√≥n final.`);
        }
        
        // Chatbot functionality
        let chatOpen = false;
        
        function toggleChat() {
            const chatWindow = document.getElementById('chat-window');
            const chatButton = document.getElementById('chat-toggle');
            
            chatOpen = !chatOpen;
            
            if (chatOpen) {
                chatWindow.style.transform = 'scale(1)';
                chatButton.innerHTML = '‚úï';
                chatButton.style.transform = 'rotate(90deg)';
            } else {
                chatWindow.style.transform = 'scale(0)';
                chatButton.innerHTML = 'üí¨';
                chatButton.style.transform = 'rotate(0deg)';
            }
        }
        
        function sendMessage(message) {
            const chatMessages = document.getElementById('chat-messages');
            const chatInput = document.getElementById('chat-input');
            
            // Add user message
            const userMessage = document.createElement('div');
            userMessage.className = 'flex items-start space-x-2 justify-end';
            userMessage.innerHTML = `
                <div class="rounded-2xl rounded-tr-sm p-3 max-w-xs text-white" style="background: var(--primary-gradient);">
                    <p class="text-sm font-body">${message}</p>
                </div>
                <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-sm">
                    üë§
                </div>
            `;
            chatMessages.appendChild(userMessage);
            
            // Clear input
            chatInput.value = '';
            
            // Simulate AI response
            setTimeout(() => {
                addAIResponse(message);
            }, 1000);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function addAIResponse(userMessage) {
            const chatMessages = document.getElementById('chat-messages');
            
            let response = '';
            
            if (userMessage.includes('contrase√±a') || userMessage.includes('recupero')) {
                response = 'üîë Para recuperar tu contrase√±a: 1) Haz clic en "¬øOlvidaste tu contrase√±a?" 2) Ingresa tu email 3) Revisa tu bandeja de entrada 4) Sigue el enlace para crear una nueva contrase√±a. ¬øNecesitas m√°s ayuda?';
            } else if (userMessage.includes('iniciar sesi√≥n') || userMessage.includes('login')) {
                response = 'üö´ Si no puedes iniciar sesi√≥n: 1) Verifica tu email y contrase√±a 2) Aseg√∫rate de que Caps Lock est√© desactivado 3) Intenta recuperar tu contrase√±a 4) Limpia cach√© del navegador. ¬øEl problema persiste?';
            } else if (userMessage.includes('cuenta nueva') || userMessage.includes('registro')) {
                response = 'üë§ Para crear una cuenta: 1) Ve a la pesta√±a "Registrarse" 2) Completa todos los campos 3) Usa una contrase√±a segura (8+ caracteres) 4) Acepta t√©rminos y condiciones 5) ¬°Listo! ¬øTienes alguna duda espec√≠fica?';
            } else if (userMessage.includes('Ayuda con registro')) {
                response = 'üìù Te ayudo con el registro: Aseg√∫rate de usar un email v√°lido, crear una contrase√±a segura (m√≠nimo 8 caracteres con may√∫sculas, min√∫sculas y n√∫meros), y aceptar los t√©rminos. ¬øEn qu√© paso tienes problemas?';
            } else if (userMessage.includes('Problemas de login')) {
                response = 'üîê Para problemas de login: Verifica que tu email est√© correcto, que la contrase√±a sea la correcta, y que no tengas Caps Lock activado. Si olvidaste tu contrase√±a, usa la opci√≥n de recuperaci√≥n. ¬øQu√© error espec√≠fico ves?';
            } else if (userMessage.includes('Soporte t√©cnico')) {
                response = 'üõ†Ô∏è Soporte t√©cnico disponible 24/7: Puedo ayudarte con login, registro, recuperaci√≥n de contrase√±as, problemas de validaci√≥n y navegaci√≥n. Tambi√©n puedes contactar soporte@ekono.com. ¬øCu√°l es tu problema espec√≠fico?';
            } else {
                response = 'ü§ñ Como asistente de login/registro de Ekono, puedo ayudarte con: crear cuentas, iniciar sesi√≥n, recuperar contrase√±as, validaci√≥n de campos y problemas t√©cnicos. ¬øEn qu√© espec√≠ficamente necesitas ayuda?';
            }
            
            const aiMessage = document.createElement('div');
            aiMessage.className = 'flex items-start space-x-2';
            aiMessage.innerHTML = `
                <div class="w-8 h-8 rounded-full flex items-center justify-center text-sm" style="background: var(--primary-gradient); color: white;">
                    ü§ñ
                </div>
                <div class="bg-gray-100 rounded-2xl rounded-tl-sm p-3 max-w-xs">
                    <p class="text-sm font-body">${response}</p>
                </div>
            `;
            chatMessages.appendChild(aiMessage);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function sendChatMessage() {
            const chatInput = document.getElementById('chat-input');
            const message = chatInput.value.trim();
            
            if (message) {
                sendMessage(message);
            }
        }
        
        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }
        
        // Close modal when clicking outside
        document.getElementById('forgotPasswordModal').addEventListener('click', function(event) {
            if (event.target === this) {
                closeForgotPassword();
            }
        });
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ P√°gina de login/registro mejorada cargada');
            console.log('üé® Tema azul marino #001541 aplicado');
            console.log('‚ú® Validaciones en tiempo real activadas');
            console.log('ü§ñ Chatbot de soporte activado');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96a4847cd1dc2f7e',t:'MTc1NDM3ODI3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
